{% block menu %}
    <a href="{% url 'main' %}" class="logo"></a>
    <ul class="menu">
        <li><a href="{% url 'main' %}"
               class="{% if request.resolver_match.url_name == 'main' %} active {% endif %}">главная</a> {# class ResolverMatch #}
        </li>
        <li>
            <a href="{% url 'products:index' %}"
               class="{% if request.resolver_match.namespace == 'products' %} active {% endif %}">продукты
            </a>
        </li>
        <li><a href="{% url 'contact' %}"
               class="{% if request.resolver_match.url_name == 'contact' %} active {% endif %}">контакты</a>
        </li>
    </ul>

    {% if user.is_authenticated %}
        <li>
            <a href="{% url 'auth:edit' %}">
                {{ user.first_name|default:'Пользователь' }}
            </a>
        </li>
    {% endif %}
    <li>
        {% if user.is_authenticated %}
            <a href="{% url 'auth:logout' %}">выйти</a>
        {% else %}
            <a href="{% url 'auth:login' %}">войти</a>
        {% endif %}
    </li>

    <a href="#" class="search"></a>
    <a href="{% url 'basket:view' %}" class="basket">
        <br>
    <span>
        {% if basket %}
        {{ basket.0.total_cost|floatformat:0 }} руб
        ({{ basket.0.total_quantity }} шт)
    {% endif %}
    </span>
    </a>

{% endblock %}